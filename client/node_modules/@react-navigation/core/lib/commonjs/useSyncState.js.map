{"version":3,"sources":["useSyncState.tsx"],"names":["UNINTIALIZED_STATE","useSyncState","initialState","stateRef","React","useRef","current","state","setTrackingState","useState","getState","useCallback","setState"],"mappings":";;;;;;;AAAA;;;;;;AAEA,MAAMA,kBAAkB,GAAG,EAA3B;;AAEe,SAASC,YAAT,CAAyBC,YAAzB,EAAuD;AACpE,QAAMC,QAAQ,GAAGC,KAAK,CAACC,MAAN,CAAgBL,kBAAhB,CAAjB;;AAEA,MAAIG,QAAQ,CAACG,OAAT,KAAqBN,kBAAzB,EAA6C;AAC3CG,IAAAA,QAAQ,CAACG,OAAT,GACE;AACA,WAAOJ,YAAP,KAAwB,UAAxB,GAAqCA,YAAY,EAAjD,GAAsDA,YAFxD;AAGD;;AAED,QAAM,CAACK,KAAD,EAAQC,gBAAR,IAA4BJ,KAAK,CAACK,QAAN,CAAeN,QAAQ,CAACG,OAAxB,CAAlC;AAEA,QAAMI,QAAQ,GAAGN,KAAK,CAACO,WAAN,CAAkB,MAAMR,QAAQ,CAACG,OAAjC,EAA0C,EAA1C,CAAjB;AAEA,QAAMM,QAAQ,GAAGR,KAAK,CAACO,WAAN,CAAmBJ,KAAD,IAAc;AAC/C,QAAIA,KAAK,KAAKJ,QAAQ,CAACG,OAAvB,EAAgC;AAC9B;AACD;;AAEDH,IAAAA,QAAQ,CAACG,OAAT,GAAmBC,KAAnB;AACAC,IAAAA,gBAAgB,CAACD,KAAD,CAAhB;AACD,GAPgB,EAOd,EAPc,CAAjB;AASA,SAAO,CAACA,KAAD,EAAQG,QAAR,EAAkBE,QAAlB,CAAP;AACD","sourcesContent":["import * as React from 'react';\n\nconst UNINTIALIZED_STATE = {};\n\nexport default function useSyncState<T>(initialState?: (() => T) | T) {\n  const stateRef = React.useRef<T>(UNINTIALIZED_STATE as any);\n\n  if (stateRef.current === UNINTIALIZED_STATE) {\n    stateRef.current =\n      // @ts-ignore\n      typeof initialState === 'function' ? initialState() : initialState;\n  }\n\n  const [state, setTrackingState] = React.useState(stateRef.current);\n\n  const getState = React.useCallback(() => stateRef.current, []);\n\n  const setState = React.useCallback((state: T) => {\n    if (state === stateRef.current) {\n      return;\n    }\n\n    stateRef.current = state;\n    setTrackingState(state);\n  }, []);\n\n  return [state, getState, setState] as const;\n}\n"]}